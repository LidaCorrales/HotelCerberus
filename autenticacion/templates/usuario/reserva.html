{% load static%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href={% static 'css/reserva.css' %}>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kdam+Thmor+Pro&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <a href={% url 'paginausu' %} class="logo">
            <img src={% static 'imgs/logo.png' %}>
        </a>
    
        <center><h1>Reservas</h1></center>
    
        <ul class="navlist">
            <li><a href={% url 'paginausu' %}>Inicio</a></li>
           
        </ul>
    </header>
    
    <div class="container_mt-5" style="margin-top: 200px;">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <form action="{% url 'RegistroReserva' Id_habitacion=Id_habitacion %}" method="POST" class="p-4 rounded" style="background: #130455;" enctype="multipart/form-data">
                    {% csrf_token %}
                    <h2 class="text-center mb-4 text-light">Reserva Ahora</h2>
                    <div class="form-group text-light">
                        <label for="fecha_entrada">Fecha de Inicio:</label>
                        <input type="date" id="fechaentrada" name="fechaentrada" min="{{ today }}" class="form-control" required>
                    </div>
                    <div class="form-group text-light">
                        <label for="fecha_salida">Fecha de Fin:</label>
                        <input type="date" id="fechasalida" name="fechasalida" min="{{ today }}" class="form-control" required>
                    </div>
                    <div class="form-group text-light">
                        <label for="cantidad_clientes">Cantidad de Personas:</label>
                        <input type="number" id="cantidad_clientes" name="cantidad_clientes" class="form-control" placeholder="Cantidad de Personas">
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">Confirmar Reserva</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    {% if error_message %}
    <script type="text/javascript">
        alert("{{ error_message }}");
    </script>
    {% endif %}
    
    {% if success_message%}
    <script type="text/javascript">
        alert("{{success_message}}");
    </script>
    {% endif %}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>

<script>
    var today = new Date().toISOString().split('T')[0];
    document.getElementById("fechaentrada").setAttribute('min', today);
    document.getElementById("fechasalida").setAttribute('min', today);

    document.getElementById("fechaentrada").addEventListener("change", function() {
        var fechaEntrada = new Date(this.value);
        fechaEntrada.setDate(fechaEntrada.getDate() + 1);
        var minFechaSalida = fechaEntrada.toISOString().split('T')[0];
        document.getElementById("fechasalida").setAttribute('min', minFechaSalida);
});
</script>